@model IEnumerable<WebMap.Models.MandateViewModel>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_MyTemplatepage.cshtml";
}

<div class="row">
    <div class="col-xs-4">
        <h4 class="page-title">Mandates</h4>
    </div>
    <div class="col-xs-8 text-right m-b-30">

        <a href='@Url.Action("getAllProjects","MandateTest")' class="btn btn-primary rounded pull-right" data-toggle="modal">
            <i class="fa fa-plus"></i>
            Add Mandate
        </a>

    </div>
    <div class="col-sm-3 col-xs-6">
        <div class="form-group form-focus">
            <label class="control-label">Search</label>
            <input type="text" class="form-control floating" id="search" />
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <div class="table-responsive">

                <table class="table table-striped custom-table datatable">

                    <thead>
                        <tr role="row">


                            <th>
                                @Html.DisplayNameFor(model => model.Name)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.LastName)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.FirstName)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.DateBegin)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.DateEnd)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.Cost)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.Duree)
                            </th>
                            <th class="text-right">Action</th>
                            @*<th></th>*@
                        </tr>
                    </thead>

                    @foreach (var item in Model)
                    {
                        <tr class="search">

                            <td>
                                @Html.DisplayFor(modelItem => item.Name)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.LastName)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.FirstName)
                            </td>

                            <td>
                                @Html.DisplayFor(modelItem => item.DateBegin)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.DateEnd)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Cost)$
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Duree)
                            </td>
                            <td class="text-right">
                                <div class="dropdown">
                                    <a href="#" class="action-icon dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="fa fa-ellipsis-v"></i></a>
                                    <ul class="dropdown-menu pull-right">
                                        <li><a href='@Url.Action("Edit","MandateTest",new {idP = item.ProjectId, idR = item.userId })' data-toggle="modal" ><i class="fa fa-pencil m-r-5"></i> Edit</a></li>
                                        <li><a href='@Url.Action("Delete","MandateTest",new {idP = item.ProjectId, idR = item.userId })' data-toggle="modal"><i class="fa fa-trash-o m-r-5"></i> Delete</a></li>
                                    </ul>
                                </div>
                            </td>
                            @*<td>
                                @Html.ActionLink("Edit", "Edit", new { idP = item.ProjectId, idR = item.userId }) |
                                @Html.ActionLink("Details", "Details", new { /* id=item.PrimaryKey */ }) |
                                @Html.ActionLink("Delete", "Delete", new { idP = item.ProjectId, idR = item.userId })
                            </td>*@
                        </tr>
                    }

                    <tbody>
                </table>
            </div>
        </div>
    </div>
    @section scripts {
        <script>

            $(document).ready(function () {
                function Contains(text1, text2) {
                    if (text1.indexOf(text2) != -1)
                        return true;
                }
                $("#search").keyup(function () {
                    var searchText = $("#search").val().toLowerCase();
                    $(".search").each(function () {
                        if (!Contains($(this).text().toLowerCase(), searchText)) {
                            $(this).hide();
                        }
                        else {
                            $(this).show();
                        }
                    });
                });
            });
        </script>

    }
</div>





     
